
<!--
'
'                                                 ,:                                      
'                                                ^8>                                      
'                                               }$$<                                      
'                                              v$$$>                                      
'                                             L$$$$<                                      
'                                            q$$$$$>                                      
'                        Q$$$$$$$$i        ;W$$$$$$$$$$$$$Z      x$$$$$$$$                
'                        Q$$$$$$$$i       <$$$$$$$$$$$$$$X       x$$$$$$$$                
'                        Q$$$$$$$$i      -@$$$$$$$$$$$$$1        x$$$$$$$$                
'                        Q$$$$$$$$i     (B@B@@$@$$$$$$8;         x$$$$$$$$                
'                        Q$$$$$$$$i             O$$$$a"          x$$$$$$$$                
'                        Q$$$$$$$$i   I         Q$$$p        ,   x$$$$$$$$                
'                        Q$$$$$$$$i YB$W]       C$$c       U$$#: x$$$$$$$$                
'                        Q$$$$$$$$m$$$$$$$(     J@]     :Z$$$$$$@O$$$$$$$$                
'                        Q$$$$$$$$$$$$$$$$$@n   x:    Io$$$$$$$$$$$$$$$$$$                
'                        Q$$$$$$$$$$$$$$$$$$$$J",   >*$$$$$$$$$$$$$$$$$$$@                
'                        ^*$$$$$$$$$$$$$$$$$$$$$q }%$$$$$$$$$$$$$$$$$$$$$n                
'                         :a$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$@|                 
'                           c$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&:                  
'                            -B$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$k"                   
'                              a$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$v                     
'                               C$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$-                      
'                                ($$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$a^                       
                                                                              
                                                                              
                                                                              
                                                                              
'        ...                           s                      ..                 .x+=:.        s    
'     xH88"`~ .x8X                    :8                x .d88"    ..           z`    ^%      :8    
'   :8888   .f"8888Hf                .88                 5888R    @L               .   <k    .88    
'  :8888>  X8L  ^""`        u       :888ooo       u      '888R   9888i   .dL     .@8Ned8"   :888ooo 
'  X8888  X888h          us888u.  -*8888888    us888u.    888R   `Y888k:*888.  .@^%8888"  -*8888888 
'  88888  !88888.     .@88 "8888"   8888    .@88 "8888"   888R     888E  888I x88:  `)8b.   8888    
'  8b888   %a8888     9n88  9u88    8c88    9h88  9a88    8n8R     8d8E  8a8I 8888N=r8888   8k88    
'  8v888 '> `8e88>    9d88  9a88    8n88    9a88  9r88    8a8R     8y8E  8a8I  %n"    Ra8   8n88    
'  `8888L %  ?888   ! 9888  9888   .8888Lu= 9888  9888    888R     888E  888I   @8Wou 9%   .8888Lu= 
'   `8888  `-*""   /  9888  9888   ^%888*   9888  9888   .888B .  x888N><888' .888888P`    ^%888*   
'     "888.      :"   "888*""888"    'Y"    "888*""888"  ^*888%    "88"  888  `   ^"F        'Y"    
'       `""***~"`      ^Y"   ^Y'             ^Y"   ^Y'     "%            88F                        
'                                                                       98"                         
'                                                                     ./"                           
'                                                                    ~`                      
Stitched by
                                                                                                                                                           
'  88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 
'  88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 
'       ...     ..                                                                                                  ..                                      ..       
'    .=*8888x <"?88h.                                                        .uef^"                               ay                                  < .anK"`       
'   X>  '8888H> '8888                  e.    d.      a.    .               :d88E                      a.    r.   '88bu.                     .n    .    !@88E         
'  '88h. `8888   8888         v      x@88k u@88c.  .@88k  z88u         .   `888E             n      x@88k u@88c. '*88888bu         a      .d88B :@8c   '888E   u     
'  '8888 '8888    "88>     us888u.  ^"8888""8888" ~"8888 ^8888    .udR88N   888E .z8k     us888u.  ^"8888""8888"   ^"*8888N     us888u.  ="8888f8888r   888E u@8NL   
'   `888 '8888.xH888x.  .@88 "8888"   8888  888R    8888  888R   <888'888k  888E~?888L .@88 "8888"   8888  888R   beWE "888L .@88 "8888"   4888>'88"    888E`"88*"   
'     X" :88*~  `*8888> 9888  9888    8888  888R    8888  888R   9888 'Y"   888E  888E 9888  9888    8888  888R   888E  888E 9888  9888    4888> '      888E .dN.    
'   ~"   !"`      "888> 9888  9888    8888  888R    8888  888R   9888       888E  888E 9888  9888    8888  888R   888E  888E 9888  9888    4888>        888E~8888    
'    .H8888h.      ?88  9888  9888    8888  888R    8888 ,888B . 9888       888E  888E 9888  9888    8888  888R   888E  888F 9888  9888   .d888L .+     888E '888&   
'   :"^"88888h.    '!   9888  9888   "*88*" 8888"  "8888Y 8888"  ?8888u../  888E  888E 9888  9888   "*88*" 8888" .888N..888  9888  9888   ^"8888*"      888E  9888.  
'   ^    "88888hx.+"    "888*""888"    ""   'Y"     `Y"   'YP     "8888P'  m888N= 888> "888*""888"    ""   'Y"    `"888*""   "888*""888"     "Y"      '"888*" 4888"  
'          ^"**""        ^Y"   ^Y'                                  "P'     `Y"   888   ^Y"   ^Y'                    ""       ^Y"   ^Y'                  ""    ""    
'                                                                                J88"                                                                                
'                                                                                @%                                                                                  
'                                                                              :"                                                                                    
'  88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 
'  88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 88888888 

Version 1.0.0 || Date: 13/02/2025
Version log: Text Compare,  Case convertor, Lorepsum generator, Double space cheker 
Version 2.0.0 || Date: 15/02/2025
Version log: Text Compare,  Case convertor, Lorepsum generator, Double space cheker 
Update Log: Enhanced Text compare, Added new case convertor, Added new lorem ipsum generator, Added new double space checker, Added new theme switcher.
Version 3.0.0 || Date: 16/02/2025
Version log: Text Compare,  Case convertor, Lorepsum generator, Double space cheker 
Update Log: AddedImage compressor, Added File Analyser, Added a ***, Added new theme switcher, Ignored macosx and DS folder from the results.
-->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catalyst - Multi-Tool Suite</title>
<link href="https://fonts.googleapis.com/css2?family=Barlow:wght@600&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
:root {
--bg-color: #ffffff;
--text-color: #2d3436;
--primary-color: #056dce;
--border-color: #056dce;
--diff-added: #00ff3c;
--diff-removed: #ff001e;
--tool-bg: #ffffff;
--tab-button: #2d3436;
}
[data-theme="dark"] {
--bg-color: #1a1a1a;
--text-color: #e0e0e0;
--primary-color: #056dce;
--border-color: #056dce;
--diff-added: #00ff59;
--diff-removed: #ff0000;
--tool-bg: #2d2d2d;
--tab-button: #e0e0e0;
}
[data-theme="dark"] .tab button {
    color: white;
}
body {
    font-family: 'Barlow', Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: var(--bg-color);
    color: var(--text-color);
    transition: all 0.3s ease;
}
.header {
    display: flex;
    justify-content: center; /* Center the content horizontally */
    align-items: center;
    margin-bottom: 2rem;
    padding: 0 20px;
    position: relative;
    gap: 15px; /* Add space between logo and text */
}
.header .logo-container {
    display: flex;
    align-items: center;
}
.header .logo {
    width: 60px;
    margin-right: 0px;
}
.header h1 {
    font-size: 2.5rem;
    margin: 0;
    color: var(--text-color);
}

@media (max-width: 768px) {
.header {
    flex-direction: column;
    text-align: center;
}
.theme-toggle {
    position: absolute;
    top: 10px;
    right: 10px;
}
}
.theme-toggle {
    position: absolute;
    top: 10px;
    right: 20px;
    cursor: pointer;
    padding: 8px 12px;
    border-radius: 5px;
    background: var(--primary-color);
    color: white;
    border: none;
}
.tab {
    overflow: hidden;
    border: 1px solid var(--border-color);
    background-color: var(--tool-bg);
    border-radius: 8px;
    margin-bottom: 20px;
    padding: 10px; /* Add padding for spacing */
    display: flex;
    gap: 10px; /* Add 10px spacing between buttons */
}
.tab button {
    background-color: var(--tool-bg);
    float: left;
    border: 1px solid var(--primary-color);
    outline: none;
    cursor: pointer;
    padding: 14px 20px;
    transition: 0.3s;
    font-family: 'Barlow', sans-serif;
    font-weight: 600;
    color: #5a5a5a; /* Default grey color for better readability */
    border-radius: 6px;
}
.tab button:hover {
    background-color: var(--primary-color);
    color: white; /* White text on hover for both themes */
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.tab button.active {
    background-color: var(--primary-color);
    color: white; /* White text for active state in both themes */
    border-color: var(--primary-color);
}
.tabcontent {
    display: none;
    padding: 20px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background: var(--tool-bg);
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
textarea {
    width: 100%;
    height: 200px;
    padding: 15px;
    border: 2px solid var(--border-color);
    border-radius: 8px;
    resize: vertical;
    font-family: monospace;
    background: var(--tool-bg);
    color: var(--text-color);
}
button {
    padding: 12px 25px;
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s;
    font-family: 'Barlow', sans-serif;
}
button:hover {
    filter: brightness(0.9);
}
.diff-result {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    font-family: monospace;
    white-space: pre-wrap;
    padding: 15px;
    background: var(--tool-bg);
    border-radius: 8px;
}
.diff-removed {
    background: var(--diff-removed);
    text-decoration: line-through;
}
.diff-added {
    background: var(--diff-added);
}
.compare-options {
    margin: 10px 0;
    display: flex;
    gap: 15px;
}
.diff-column {
    white-space: pre-wrap;
    padding: 10px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
}
.highlight {
    background-color: #ffeb3b;
    padding: 2px 4px;
    border-radius: 3px;
}
[data-theme="dark"] .highlight {
    background-color: #ff5722;
}
.compare-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
}
.text-input {
    background: var(--tool-bg);
    padding: 15px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}
.result {
    font-family: monospace;
    white-space: pre-wrap;
    word-wrap: break-word;
    padding: 15px;
    border-radius: 4px;
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
}
.linebreak {
    color: var(--primary-color);
    font-weight: bold;
}
.container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    max-width: 1200px;
    margin: 0 auto;
}
.text-input {
    background: #333;
    color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
textarea {
    width: 100%;
    height: 200px;
    padding: 10px;
    border: 1px solid #555;
    border-radius: 4px;
    resize: vertical;
    font-family: monospace;
    background-color: #444;
    color: white;
}
.compare-button {
    grid-column: span 2;
    padding: 12px 24px;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    transition: background 0.3s;
}
.compare-button:hover {
    background: #0056b3;
}
.result {
    background: #333;
    color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    font-family: monospace;
    white-space: pre-wrap;
    word-wrap: break-word;
}
.deleted {
    background: #ff0000;
    text-decoration: line-through;
    opacity: 0.7;
}
.added {
    background: #00ff00;
    color: black;
    opacity: 0.7;
}
h2 {
    margin-top: 0;
    color: #eee;
    font-size: 1.2em;
}
.tool-section {
    padding: 20px;
    background: var(--tool-bg);
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.tool-section button {
    min-width: 150px;
    margin: 0 auto;
    padding: 12px 30px;
    font-size: 1.1em;
}
.tool-section button:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.compare-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
}
.text-input {
    background: var(--tool-bg);
    padding: 15px;
    border-radius: 4px;
    border: 1px solid var(--border-color);
}
.text-input h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: var(--text-color);
    font-size: 1.2em;
    font-family: 'Barlow', sans-serif;
}
textarea {
    width: 100%;
    height: 200px;
    padding: 15px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    resize: vertical;
    font-family: monospace;
    background: var(--tool-bg);
    color: var(--text-color);
}
.result {
    color: var(--text-color);
    font-family: monospace;
    white-space: pre-wrap;
    word-wrap: break-word;
    padding: 15px;
    border-radius: 4px;
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    min-height: 100px;
}
button {
    padding: 12px 25px;
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s;
    font-family: 'Barlow', sans-serif;
    margin: 10px 0;
}
button:hover {
    filter: brightness(0.9);
}
.deleted {
    background: var(--diff-removed);
    text-decoration: line-through;
}
.added {
    background: var(--diff-added);
}
.linebreak {
    color: var(--primary-color);
    font-weight: bold;
}
#caseOutput {
    padding: 15px;
    background: var(--tool-bg);
    border-radius: 6px;
    margin-top: 20px;
    white-space: pre-wrap;       /* preserve line breaks but wrap text */
    word-wrap: break-word;       /* break long words */
    overflow-wrap: break-word;   /* newer syntax for breaking long words */
    word-break: break-all;       /* ensure long strings without spaces wrap */
    max-width: 100%;            /* ensure content stays within container */
    font-family: monospace;     /* keep monospace font for code-like content */
}
.case-buttons-container {
    display: flex;
    gap: 20px;
    margin: 15px 0;
}
.case-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 10px;
    flex: 3;
}
.action-buttons {
    display: flex;
    flex-direction: column;
    gap: 10px;
    flex: 1;
}
.text-input h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: var(--text-color);
    font-size: 1.2em;
    font-family: 'Barlow', sans-serif;
}
#caseConverter .tool-section {
    display: flex;
    gap: 20px;
    align-items: flex-start;
}
#caseConverter .input-output-section {
    flex: 4; /* Increase from 2 to 3 to reduce button section width */
}
#caseConverter .button-section {
    flex: 1; /* Take 1/4 of the space */
    position: sticky;
    top: 20px;
    align-self: flex-start;
    max-width: 400px; /* Limit maximum width */
}
#caseConverter .case-buttons {
    display: grid;
    grid-template-columns: 1fr; /* Single column by default */
    gap: 8px;
    margin-bottom: 15px;
}
#caseConverter .case-buttons button {
    padding: 8px 12px;
    font-size: 0.9em;
    white-space: nowrap;
    width: 100%;
}

/* Responsive design */
@media (min-width: 1200px) {
#caseConverter .case-buttons {
    grid-template-columns: repeat(2, 1fr); /* 2 columns on larger screens */
}
}

@media (max-width: 768px) {
#caseConverter .tool-section {
    flex-direction: column;
}
#caseConverter .button-section {
    position: static;
    max-width: 100%;
    width: 100%;
}
#caseConverter .case-buttons {
    grid-template-columns: repeat(2, 1fr); /* 2 columns on mobile */
}
}

@media (max-width: 480px) {
#caseConverter .case-buttons {
    grid-template-columns: 1fr; /* Single column on very small screens */
}
}
#caseConverter .case-buttons button {
    padding: 8px 12px;
    font-size: 0.9em;
    white-space: nowrap;
    width: 100%;
}
#caseConverter .action-buttons {
    display: grid;
    grid-template-columns: 1fr; /* Single column */
    gap: 8px;
    margin-top: 15px;
}
#caseConverter .action-buttons button {
    width: 100%;
}
#caseConverter .form-check {
    margin: 15px 0;
}
#caseConverter textarea {
    width: 100%;
    resize: vertical;
    min-height: 200px;
    max-height: 600px;
}
<!--
Double space checker--> .result-box {
    background: var(--tool-bg);
    padding: 15px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}
.text-content {
    margin-top: 10px;
    line-height: 1.5;
    background: var(--bg-color);
    padding: 15px;
    border-radius: 4px;
    min-height: 100px;
}
.space-actions {
    display: flex;
    gap: 10px;
}
.space-btn {
    padding: 8px 16px;
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
}
.space-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    filter: brightness(0.9);
}
<!--
Image compressor Styles--> .upload-area {
    border: 2px dashed var(--border-color);
    padding: 2rem;
    text-align: center;
    margin-bottom: 1rem;
    border-radius: 8px;
    background: var(--tool-bg);
    transition: all 0.3s ease;
}
.upload-area.dragover {
    border-color: var(--primary-color);
    background-color: var(--bg-color);
}
.btn-upload {
    background: var(--primary-color);
    color: white;
    padding: 12px 25px;
    border-radius: 6px;
    cursor: pointer;
    display: inline-block;
    margin: 1rem 0;
}
.btn-upload:hover {
    filter: brightness(0.9);
}
.btn-download {
    background: #4CAF50;
    margin-top: 1rem;
}
.file-list {
    color: var(--text-color);
    margin: 1rem 0;
    font-size: 0.9em;
}
.loading {
    color: var(--text-color);
    margin: 1rem 0;
}
#fileInput {
    display: none;
}
.compression-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background: var(--tool-bg);
    border-radius: 6px;
    overflow: hidden;
}
.compression-table th, .compression-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}
.compression-table th {
    background: var(--primary-color);
    color: white;
    font-weight: 600;
}
.compression-table tr:hover {
    background: rgba(0,0,0,0.1);
}
#imageCompressor .upload-controls {
    margin: 1rem 0;
}
#imageCompressor .control-row {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 10px;
}
#imageCompressor .upload-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
}
#imageCompressor .btn-upload {
    min-width: 120px; /* Fixed width for button */
    white-space: nowrap;
}
#imageCompressor .progress-container {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
}
#imageCompressor .btn-download {
    min-width: 120px;
    white-space: nowrap;
    background: #4CAF50;
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    border: none;
    font-family: 'Barlow', sans-serif;
    transition: all 0.3s ease;
    opacity: 0.5; /* Add default opacity */
    pointer-events: none; /* Disable interactions by default */
}
#imageCompressor .btn-download.active {
    opacity: 1;
    pointer-events: auto;
}
#imageCompressor .btn-download:hover {
    filter: brightness(0.9);
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
#imageCompressor .filename-bar {
    flex: 1; /* Take half of the remaining space */
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 8px 12px;
}
#imageCompressor .progress-bar-container {
    flex: 1; /* Take other half of the remaining space */
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 8px 12px;
    position: relative;
}
#imageCompressor .progress-bar {
    height: 4px;
    background: var(--primary-color);
    border-radius: 2px;
    width: 0;
    transition: width 0.3s ease;
}
#imageCompressor .status-text {
    margin-top: 4px;
    font-size: 0.9em;
    color: var(--text-color);
}
#imageCompressor .loading-spinner {
    display: none;
    width: 16px;
    height: 16px;
    border: 2px solid var(--primary-color);
    border-top: 2px solid transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
}
<!--
File analyser Styles--> #fileAnalyser {
    margin-top: 20px;
}
#fileAnalyser h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: var(--text-color);
    font-family: 'Barlow', sans-serif;
}
#fileAnalyser input[type="file"] {
    margin: 10px 0;
    background: var(--tool-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 8px;
    border-radius: 4px;
}
#fileAnalyser #fileTable {
    display: none; /* Initially hidden, will change once a ZIP is loaded */
    margin-top: 15px;
}
#fileAnalyser .compression-table {
    width: 100%;
    table-layout: fixed; /* Add fixed table layout */
    border-collapse: collapse;
    background: var(--tool-bg);
    border-radius: 6px;
    overflow: hidden;
}
#fileAnalyser .compression-table th, #fileAnalyser .compression-table td {
    padding: 12px;
    border: 1px solid var(--border-color);
    text-align: left;
    color: var(--text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
/* Define column widths */
#fileAnalyser .compression-table th:nth-child(1), #fileAnalyser .compression-table td:nth-child(1) {
    width: 40%; /* Name column */
}
#fileAnalyser .compression-table th:nth-child(2), #fileAnalyser .compression-table td:nth-child(2) {
    width: 10%; /* Format column */
}
#fileAnalyser .compression-table th:nth-child(3), #fileAnalyser .compression-table td:nth-child(3) {
    width: 10%; /* Size column */
}
#fileAnalyser .compression-table th:nth-child(4), #fileAnalyser .compression-table td:nth-child(4) {
    width: 15%; /* Dimensions column */
}
#fileAnalyser .compression-table th:nth-child(5), #fileAnalyser .compression-table td:nth-child(5) {
    width: 10%; /* Duration column */
}
#fileAnalyser .compression-table th:nth-child(6), #fileAnalyser .compression-table td:nth-child(6) {
    width: 15%; /* Color Mode column */
}
#fileAnalyser .folder {
    cursor: pointer;
    background-color: var(--tool-bg);
    color: var(--text-color);
}
#fileAnalyser .toggle {
    display: inline-block;
    width: 20px;
    transition: transform 0.2s;
    cursor: pointer;
}
#fileAnalyser .folder.expanded .toggle {
    transform: rotate(90deg);
}
#fileAnalyser tr[data-parent] {
    background-color: var(--tool-bg);
}
#fileAnalyser .hidden {
    display: none;
}
#fileAnalyser .upload-controls {
    margin: 1rem 0;
}
#fileAnalyser .upload-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
}
#fileAnalyser .btn-upload {
    min-width: 120px;
    text-align: center;
    margin: 0;
    background: var(--primary-color);
    color: white;
    padding: 12px 25px;
    border-radius: 6px;
    cursor: pointer;
    display: inline-block;
    font-family: 'Barlow', sans-serif;
}
#fileAnalyser .btn-upload:hover {
    filter: brightness(0.9);
}
#fileAnalyser .progress-status {
    padding: 8px 16px;
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    min-width: 200px;
}
#fileAnalyser .progress-container {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
}
#fileAnalyser .filename-bar {
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 8px 12px;
}
#fileAnalyser .progress-bar-container {
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 8px 12px;
    position: relative;
}
#fileAnalyser .progress-bar {
    height: 4px;
    background: var(--primary-color);
    border-radius: 2px;
    width: 0;
    transition: width 0.3s ease;
}
#fileAnalyser .status-text {
    margin-top: 4px;
    font-size: 0.9em;
    color: var (--text-color);
}
#fileAnalyser .loading-spinner {
    display: none;
    width: 16px;
    height: 16px;
    border: 2px solid var (--primary-color);
    border-top: 2px solid transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
}
@keyframes spin {
0% {
transform: translateY(-50%) rotate(0deg);
}
100% {
transform: translateY(-50%) rotate(360deg);
}
}
#fileAnalyser .control-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    margin-bottom: 10px;
}
#fileAnalyser .upload-row {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 2;
}
#fileAnalyser .progress-container {
    flex: 1;
}
#fileAnalyser .size-filter input[type="number"] {
    width: 80px;
    padding: 4px 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background: var(--tool-bg);
    color: var(--text-color);
}
#fileAnalyser .size-filter input[type="radio"]:disabled + label {
    opacity: 0.5;
}
#fileAnalyser .upload-controls {
    margin: 1rem 0;
}
#fileAnalyser .control-row {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 10px;
}
#fileAnalyser .upload-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%; /* Take full width */
}
#fileAnalyser .btn-upload {
    min-width: 120px; /* Fixed width for button */
    white-space: nowrap;
}
#fileAnalyser .progress-container {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1; /* Take remaining space */
}
#fileAnalyser .filename-bar {
    flex: 1; /* Take half of the remaining space */
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 8px 12px;
}
#fileAnalyser .progress-bar-container {
    flex: 1; /* Take other half of the remaining space */
    background: var(--tool-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 8px 12px;
    position: relative;
}
#fileAnalyser .upload-area {
    border: 2px dashed var(--border-color);
    padding: 2rem;
    text-align: center;
    margin-bottom: 1rem;
    border-radius: 8px;
    background: var(--tool-bg);
    transition: all 0.3s ease;
}
#fileAnalyser .upload-area.dragover {
    border-color: var(--primary-color);
    background-color: var(--bg-color);
}
#fileAnalyser .btn-reset {
    background: #f44336;
    color: white;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    border: none;
    font-family: 'Barlow', sans-serif;
    transition: all 0.3s ease;
    white-space: nowrap;
    opacity: 0.5; /* Add default opacity */
    pointer-events: none; /* Disable interactions by default */
}
#fileAnalyser .btn-reset.active {
    opacity: 1;
    pointer-events: auto;
}
#fileAnalyser .btn-reset:hover {
    filter: brightness(0.9);
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
<!--
EE Styles--> .easter-egg-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--tool-bg);
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    z-index: 1000;
    animation: popIn 0.3s ease-out;
    border: 2px solid var(--primary-color);
    position: relative;
    overflow: hidden;
}
/* Add a pseudo-element for the background pattern */
.easter-egg-popup::before {
    content: '';
    position: absolute;
    inset: 2px; /* Match the border width */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 512 512'%3E%3Cpath transform='rotate(20 256 256)' fill='rgba(0,0,0,0.08)' d='M269.5,-0.5 C269.833,-0.5 270.167,-0.5 270.5,-0.5C 270.5,39.8333 270.5,80.1667 270.5,120.5C 299.169,120.333 327.835,120.5 356.5,121C 318.127,190.247 279.627,259.414 241,328.5C 240.5,289.168 240.333,249.835 240.5,210.5C 211.831,210.667 183.165,210.5 154.5,210C 193.227,140.046 231.56,69.8798 269.5,-0.5 Z'/%3E%3C/svg%3E");
    background-size: 8px 8px;
    background-repeat: repeat;
    opacity: 0.25;
    pointer-events: none;
    z-index: 0;
    background-color: rgba(128, 128, 128, 0.03);
    border-radius: 10px; /* Slightly smaller than parent's border-radius */
    -webkit-mask-image: radial-gradient( circle at center, black 0%, black 95%, transparent 100% );
    mask-image: radial-gradient( circle at center, black 0%, black 95%, transparent 100% );
}
[data-theme="dark"] .easter-egg-popup::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 512 512'%3E%3Cpath transform='rotate(20 256 256)' fill='rgba(255,255,255,0.08)' d='M269.5,-0.5 C269.833,-0.5 270.167,-0.5 270.5,-0.5C 270.5,39.8333 270.5,80.1667 270.5,120.5C 299.169,120.333 327.835,120.5 356.5,121C 318.127,190.247 279.627,259.414 241,328.5C 240.5,289.168 240.333,249.835 240.5,210.5C 211.831,210.667 183.165,210.5 154.5,210C 193.227,140.046 231.56,69.8798 269.5,-0.5 Z'/%3E%3C/svg%3E");
}
/* Ensure content stays above the pattern */
.easter-egg-popup .footer-content {
    position: relative;
    z-index: 1;
}
.easter-egg-popup .close-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background: none;
    border: none;
    color: var(--text-color);
    cursor: pointer;
    padding: 5px;
    font-size: 20px;
    z-index: 2;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s ease;
}
.easter-egg-popup .close-button:hover {
    background: rgba(0, 0, 0, 0.1);
    transform: scale(1.1);
}
[data-theme="dark"] .easter-egg-popup .close-button:hover {
    background: rgba(255, 255, 255, 0.1);
}


/* Add clean animation */
@keyframes patternFloat {
0% {
transform: rotate(15deg) translate(0, 0);
}
50% {
transform: rotate(15deg) translate(-10px, -10px);
}
100% {
transform: rotate(15deg) translate(0, 0);
}
}
.color-picker-popup .color-picker-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin: 20px 0;
}
.color-picker-popup input[type="color"] {
    width: 100px;
    height: 100px;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    padding: 0;
    margin: 0 auto;
}
.color-picker-popup .random-color-btn, .color-picker-popup .apply-color-btn {
    background: var(--primary-color);
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}
.color-picker-popup .random-color-btn:hover, .color-picker-popup .apply-color-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.color-picker-popup .apply-color-btn {
    margin-top: 15px;
    width: 100%;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/diff-match-patch/20121119/diff_match_patch.js"></script>
</head>
<body data-theme="dark">
<div class="header">
  <div class="logo-container">
    <svg class="logo" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
      <path fill="#056dce" d="M269.5,-0.5 C269.833,-0.5 270.167,-0.5 270.5,-0.5C 270.5,39.8333 270.5,80.1667 270.5,120.5C 299.169,120.333 327.835,120.5 356.5,121C 318.127,190.247 279.627,259.414 241,328.5C 240.5,289.168 240.333,249.835 240.5,210.5C 211.831,210.667 183.165,210.5 154.5,210C 193.227,140.046 231.56,69.8798 269.5,-0.5 Z M239.5,118.5 C240.494,128.987 240.828,139.654 240.5,150.5C 261.836,150.333 283.169,150.5 304.5,151C 292.953,170.59 281.787,190.424 271,210.5C 270.5,200.506 270.334,190.506 270.5,180.5C 249.164,180.667 227.831,180.5 206.5,180C 218.161,159.844 229.161,139.344 239.5,118.5 Z"/>
      <path fill="currentColor" d="M-0.5,120.5 C29.8333,120.5 60.1667,120.5 90.5,120.5C90.3333,177.501 90.5,234.501 91,291.5C91.6667,292.167 92.3333,292.833 93,293.5C107.014,279.319 121.181,265.319 135.5,251.5C175.86,291.194 215.86,331.194 255.5,371.5C295.14,331.194 335.14,291.194 375.5,251.5C389.819,265.319 403.986,279.319 418,293.5C418.667,292.833 419.333,292.167 420,291.5C420.5,234.501 420.667,177.501 420.5,120.5C450.833,120.5 481.167,120.5 511.5,120.5C511.5,193.833 511.5,267.167 511.5,340.5C509.183,350.933 505.349,360.933 500,370.5C471.307,417.224 443.141,464.224 415.5,511.5C308.833,511.5 202.167,511.5 95.5,511.5C67.8592,464.224 39.6925,417.224 11,370.5C5.65063,360.933 1.8173,350.933 -0.5,340.5C-0.5,267.167 -0.5,193.833 -0.5,120.5 Z"/>
    </svg>
  </div>
  <h1>Catalyst</h1>
  <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
</div>
<div class="tab" style="padding-left: 20px;">
  <button class="tablinks active" onclick="openTool(event, 'textCompare')">Text Compare</button>
  <button class="tablinks" onclick="openTool(event, 'caseConverter')">Case Converter</button>
  <button class="tablinks" onclick="openTool(event, 'loremGen')">Lorem Ipsum Generator</button>
  <button class="tablinks" onclick="openTool(event, 'spaceCheck')">Double Space Checker</button>
  <button class="tablinks" onclick="openTool(event, 'imageCompressor')">Image Compressor</button>
  <button class="tablinks" onclick="openTool(event, 'fileAnalyser')">File Analyser</button>
</div>

<!-- Text Compare Tool -->
<div id="textCompare" class="tabcontent" style="display: block;">
  <div class="tool-section">
    <div class="compare-container">
      <div class="text-input">
        <h3>Original Text</h3>
        <textarea id="text1"></textarea>
      </div>
      <div class="text-input">
        <h3>Modified Text</h3>
        <textarea id="text2"></textarea>
      </div>
    </div>
    <div style="text-align: center; margin: 20px 0;">
      <button onclick="compareTexts()">Compare Texts</button>
    </div>
    <div class="compare-container">
      <div class="text-input">
        <h3>Original Version</h3>
        <div id="result1" class="result"></div>
      </div>
      <div class="text-input">
        <h3>Modified Version</h3>
        <div id="result2" class="result"></div>
      </div>
    </div>
  </div>
</div>

<!-- Case Converter Tool -->
<div id="caseConverter" class="tabcontent">
  <div class="tool-section">
    <div class="input-output-section">
      <textarea id="caseInput" placeholder="Enter text to convert"></textarea>
      <div class="case-stats" id="caseCounts"> Character Count: 0 | Word Count: 0 | Sentence Count: 0 | Line Count: 0 </div>
      <div class="text-input">
        <h3>Converted Text</h3>
        <div id="caseOutput" class="result"></div>
      </div>
    </div>
    <div class="button-section">
      <h5>Convert types</h5>
      <div class="case-buttons">
        <button data-type="lowercase">lowercase</button>
        <button data-type="uppercase">UPPERCASE</button>
        <button data-type="title_case">Title Case</button>
        <button data-type="sentence_case">Sentence case</button>
        <button data-type="capitalize">Capitalize Words</button>
        <button data-type="inverse_case">Inverse Case</button>
        <button data-type="alternating_case">Alternating Case</button>
        <button data-type="slug">URL Slug</button>
        <button data-type="underscore">Underscore</button>
        <button data-type="remove_spaces">Remove Spaces</button>
        <button data-type="reverse">Reverse Text</button>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="doubleSpaceCheck">
        <label class="form-check-label" for="doubleSpaceCheck">Remove extra spaces</label>
      </div>
      <div class="action-buttons">
        <button class="btn-success" id="copyButton">Copy to Clipboard</button>
        <button class="btn-danger" id="clearButton">Clear All</button>
      </div>
    </div>
  </div>
</div>

<!-- Lorem Ipsum Generator -->
<div id="loremGen" class="tabcontent">
  <div class="tool-section">
    <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 20px;">
      <input type="range" id="paraCount" min="1" max="10" value="3" style="flex-grow: 1;">
      <span id="paraValue" style="min-width: 120px;">3 paragraphs</span>
      <button onclick="generateLorem()">Generate</button>
    </div>
    <div id="loremOutput" style="line-height: 1.6;"></div>
  </div>
</div>

<!-- Space Check Tool -->
<div id="spaceCheck" class="tabcontent">
  <div class="tool-section">
    <textarea id="spaceInput" placeholder="Enter text to check"></textarea>
    <button onclick="checkSpaces()" style="margin: 15px 0;">Check Spaces</button>
    <div id="spaceResult" style="padding: 15px; background: var(--tool-bg); border-radius: 6px;"></div>
  </div>
</div>
<!-- Image compressor -->
<div id="imageCompressor" class="tabcontent">
  <div class="tool-section">
    <div class="upload-area" id="dropZone">
      <h4>Drag & Drop Images or Select Images</h4>
      <div class="upload-controls">
        <input type="file" id="fileInput" accept="image/*" multiple>
        <div class="control-row">
          <div class="upload-row">
            <label for="fileInput" class="btn-upload">Select Images</label>
            <div class="progress-container">
              <div id="fileName" class="filename-bar"></div>
              <div class="progress-bar-container">
                <div class="progress-bar" id="imageProgressBar"></div>
                <div class="loading-spinner" id="imageLoadingSpinner"></div>
                <div class="status-text" id="imageProgress"></div>
              </div>
            </div>
            <button id="downloadBtn" class="btn-download">Download All</button>
          </div>
        </div>
      </div>
      <div class="file-list" id="fileList">
        <table class="compression-table">
          <thead>
            <tr>
              <th>File Name</th>
              <th>Format</th>
              <th>Dimensions</th>
              <th>Previous Size</th>
              <th>Compressed Size</th>
              <th>Reduction</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
      <div class="loading" id="loading" style="display: none;">Processing...</div>
      <button id="downloadBtn" class="btn-download" style="display: none;">Download All as ZIP</button>
    </div>
  </div>
</div>

<!--File Analyser -->
<div id="fileAnalyser" class="tabcontent">
  <div class="upload-controls upload-area">
    <h4>Drag & Drop ZIP File or Select ZIP file</h4>
    <input type="file" id="zipInput" accept=".zip" style="display: none;">
    <div class="control-row">
      <div class="upload-row">
        <label for="zipInput" class="btn-upload">Select ZIP File</label>
        <div class="progress-container">
          <div id="zipName" class="filename-bar"></div>
          <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
            <div class="loading-spinner" id="loadingSpinner"></div>
            <div class="status-text" id="zipProgress"></div>
          </div>
        </div>
        <button id="resetAnalyser" class="btn-reset" onclick="resetFileAnalyser()">Reset</button>
      </div>
    </div>
  </div>
  <!-- Add this inside your #fileAnalyser div, after the upload controls -->
  <div id="fileTable" style="display: none; margin-top: 15px;">
    <table class="compression-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Format</th>
          <th>Size</th>
          <th>Dimensions</th>
          <th>Duration</th>
          <th>Color Mode</th>
        </tr>
      </thead>
      <tbody id="fileAnalyserList">
      </tbody>
    </table>
  </div>
  
  <!-- Rest of the file table code remains the same --> 
</div>
	<script src="https://cdn.jsdelivr.net/npm/diff-match-patch@1.0.5/index.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script>
	
        // Theme management
        function toggleTheme() {
            const body = document.body;
            body.setAttribute('data-theme', 
                body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
                
        }
        

        // Tab management
        function openTool(evt, toolName) {
            const tabcontent = document.getElementsByClassName("tabcontent");
            const tablinks = document.getElementsByClassName("tablinks");
            
            for (let tab of tabcontent) tab.style.display = "none";
            for (let link of tablinks) link.classList.remove("active");
            
            document.getElementById(toolName).style.display = "block";
            evt.currentTarget.classList.add("active");
        }

          // Modified compareTexts function
          function compareTexts() {
    // Get input values
    const text1 = document.getElementById('text1').value;
    const text2 = document.getElementById('text2').value;

    // Initialize diff tracker
    const dmp = new diff_match_patch();
    
    // Normalize line breaks to \n
    const text1Normalized = text1.replace(/(\r\n|\r)/g, '\n');
    const text2Normalized = text2.replace(/(\r\n|\r)/g, '\n');

    // Get character differences
    const diffs = dmp.diff_main(text1Normalized, text2Normalized);
    dmp.diff_cleanupSemantic(diffs);

    // Process differences
    let html1 = '';
    let html2 = '';
    
    diffs.forEach(([change, text]) => {
        text = text.replace(/&/g, '&amp;')
                  .replace(/</g, '&lt;')
                  .replace(/>/g, '&gt;');
        
        // Replace line breaks with a visual representation
        const replacedText = text.replace(/\n/g, '<span class="linebreak">\↵</span><br>');

        switch(change) {
            case -1: // Deletion
                html1 += `<span class="deleted">${replacedText}</span>`;
                break;
            case 1: // Insertion
                html2 += `<span class="added">${replacedText}</span>`;
                break;
            case 0: // No change
                html1 += replacedText;
                html2 += replacedText;
                break;
        }
    });

    // Update results
    document.getElementById('result1').innerHTML = html1;
    document.getElementById('result2').innerHTML = html2;
}

        // Case Converter Logic
        const converters = {
            lowercase: text => text.toLowerCase(),
            uppercase: text => text.toUpperCase(),
            title_case: text => text.replace(/\w\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()),
            sentence_case: text => text.replace(/(^\s*\w|[.?!]\s*\w)/g, txt => txt.toUpperCase()),
            capitalize: text => text.replace(/\b\w/g, char => char.toUpperCase()),
            inverse_case: text => [...text].map(char => (char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase())).join(''),
            alternating_case: text => [...text].map((char, i) => (i % 2 === 0 ? char.toUpperCase() : char.toLowerCase())).join(''),
            slug: text => text.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, ''),
            underscore: text => text.toLowerCase().replace(/[^a-z0-9]+/g, '_').replace(/^_|_$/g, ''),
            remove_spaces: text => text.replace(/\s+/g, ''),
            reverse: text => [...text].reverse().join('')
        };

        document.addEventListener('DOMContentLoaded', function() {
            const caseInput = document.getElementById('caseInput');
            const caseOutput = document.getElementById('caseOutput');
            const caseButtons = document.querySelector('.case-buttons');
            const copyButton = document.getElementById('copyButton');
            const clearButton = document.getElementById('clearButton');
            const doubleSpaceCheck = document.getElementById('doubleSpaceCheck');
            const caseCounts = document.getElementById('caseCounts');

            function updateStats() {
                const text = caseInput.value;
                const charCount = text.length;
                const wordCount = text.trim().split(/\s+/).filter(Boolean).length;
                const sentenceCount = text.split(/[.?!]+/).filter(Boolean).length;
                const lineCount = text.split('\n').length;
                caseCounts.textContent = `Character Count: ${charCount} | Word Count: ${wordCount} | Sentence Count: ${sentenceCount} | Line Count: ${lineCount}`;
            }

            caseInput.addEventListener('input', updateStats);

            caseButtons.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON') {
                    let type = e.target.dataset.type;
                    let text = caseInput.value;

                    if (doubleSpaceCheck.checked) {
                        text = text.replace(/\s+/g, ' ');
                    }

                    if (converters[type]) {
                        caseOutput.textContent = converters[type](text);
                    }
                }
            });

            copyButton.addEventListener('click', function() {
                navigator.clipboard.writeText(caseOutput.textContent).then(() => {
                    alert('Text copied to clipboard!');
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            });

            clearButton.addEventListener('click', function() {
                caseInput.value = '';
                caseOutput.textContent = '';
                updateStats();
            });
        });

        // Lorem Ipsum Generator Logic
        function generateLorem() {
            const paraCount = document.getElementById('paraCount').value;
            const loremOutput = document.getElementById('loremOutput');
            let loremText = '';
            
            for (let i = 0; i < paraCount; i++) {
                loremText += generateParagraph() + '<br><br>';
            }
            
            loremOutput.innerHTML = loremText;
        }

        function generateParagraph() {
            const sentences = [
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
                "Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
                "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",
                "Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.",
                "Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
            ];
            
            let paragraph = '';
            const sentenceCount = Math.floor(Math.random() * 5) + 3; // Random number of sentences between 3 and 7
            
            for (let i = 0; i < sentenceCount; i++) {
                paragraph += sentences[Math.floor(Math.random() * sentences.length)] + ' ';
            }
            
            return paragraph;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const paraCountInput = document.getElementById('paraCount');
            const paraValueSpan = document.getElementById('paraValue');

            paraCountInput.addEventListener('input', function() {
                paraValueSpan.textContent = this.value + ' paragraphs';
            });
        });

        // Space Check Tool Logic
        function checkSpaces() {
    const text = document.getElementById('spaceInput').value;
    
    // Find double spaces and count them
    const doubleSpaces = (text.match(/ {2,}/g) || []).length;
    
    // Process text for both highlighting and cleaning
    const processed = text
        .replace(/\n/g, '<br>')
        .replace(/ {2,}/g, match => {
            return `<span class="highlight">${'·'.repeat(match.length)}</span>`;
        });
    
    // Clean text version (single spaces only)
    const cleanedText = text
        .replace(/\n/g, '<br>')
        .replace(/ {2,}/g, ' ');
    
    // Update the result display with horizontal layout
    document.getElementById('spaceResult').innerHTML = `
        <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center;">
            <strong>Double spaces found: ${doubleSpaces}</strong>
            <div class="space-actions">
                <button onclick="clearSpaceChecker()" class="space-btn">Clear All</button>
                <button onclick="copyText()" class="space-btn">Copy Text</button>
            </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div class="result-box">
                <strong>Original text with highlighted spaces</strong>
                <div class="text-content">
                    ${processed}
                </div>
            </div>
            <div class="result-box">
                <strong>Corrected text (single spaces)</strong>
                <div class="text-content" id="cleanedTextContent">
                    ${cleanedText}
                </div>
            </div>
        </div>
    `;
}

// Add helper functions
function clearSpaceChecker() {
    document.getElementById('spaceInput').value = '';
    document.getElementById('spaceResult').innerHTML = '';
}

function copyText() {
    const cleanedText = document.getElementById('cleanedTextContent').innerText;
    navigator.clipboard.writeText(cleanedText.replace(/<br>/g, '\n'))
        .then(() => {
            const copyBtn = document.querySelector('.space-btn:last-child');
            const originalText = copyBtn.textContent;
            copyBtn.textContent = 'Copied!';
            copyBtn.style.backgroundColor = '#4CAF50';
            setTimeout(() => {
                copyBtn.textContent = originalText;
                copyBtn.style.backgroundColor = 'var(--primary-color)';
            }, 2000);
        });
}

    
    // Image Compressor Logic
    const dropZone = document.getElementById('dropZone');
    const fileInput = document.getElementById('fileInput');
    const downloadBtn = document.getElementById('downloadBtn');
    const loading = document.getElementById('loading');
    const fileList = document.getElementById('fileList');
    const progress = document.getElementById('progress');

    let compressedFiles = [];
    let processing = false;

    // Drag and drop handlers
    dropZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropZone.classList.add('dragover');
    });

    dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('dragover');
    });

    dropZone.addEventListener('drop', (e) => {
        e.preventDefault();
        dropZone.classList.remove('dragover');
        handleFiles(e.dataTransfer.files);
    });

    fileInput.addEventListener('change', (e) => {
        handleFiles(e.target.files);
    });

    // Add this helper function for calculating reduction percentage
        function calculateReduction(originalSize, compressedSize) {
    const reduction = ((originalSize - compressedSize) / originalSize) * 100;
    return reduction.toFixed(1);
    }

// Add this function to get image dimensions
async function getImageDimensions(file) {
    return new Promise((resolve) => {
        const img = new Image();
        img.onload = () => {
            resolve({ width: img.width, height: img.height });
        };
        img.src = URL.createObjectURL(file);
    });
}

// Image compressor update progress
function updateImageProgress(filename, status = '', progress = 0) {
    const fileName = document.getElementById('fileName');
    const progressBar = document.getElementById('imageProgressBar');
    const progressText = document.getElementById('imageProgress');
    const loadingSpinner = document.getElementById('imageLoadingSpinner');

    // Update filename
    fileName.textContent = filename;

    // Update progress bar and status
    progressBar.style.width = `${progress}%`;
    progressText.textContent = status;

    // Show/hide loading spinner
    if (status.includes('Processing') || status.includes('Loading')) {
        loadingSpinner.style.display = 'block';
        progressBar.style.backgroundColor = 'var(--primary-color)';
    } else {
        loadingSpinner.style.display = 'none';
    }

    // Add status-specific styling
    if (status.includes('Complete') || status.includes('successfully')) {
        progressBar.style.width = '100%';
        progressBar.style.backgroundColor = '#4CAF50'; // Green color for success
        loadingSpinner.style.display = 'none';
    } else if (status.includes('Error')) {
        progressBar.style.backgroundColor = '#f44336'; // Red color for error
        loadingSpinner.style.display = 'none';
    }
}

// Modify the handleFiles function to use the new progress indicator
async function handleFiles(files) {
    if (processing) return;
    processing = true;
    compressedFiles = [];
    const tbody = document.querySelector('.compression-table tbody');
    tbody.innerHTML = '';
    loading.style.display = 'block';
    // Get the download button and remove active class
    const downloadBtn = document.getElementById('downloadBtn');
    downloadBtn.classList.remove('active');

    try {
        const zip = new JSZip();
        
        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            if (!file.type.startsWith('image/')) continue;

            const progress = Math.round((i / files.length) * 100);
            updateImageProgress(file.name, `Processing ${i+1}/${files.length} images...`, progress);
            
            try {
                const dimensions = await getImageDimensions(file);
                const compressedBlob = await imageCompression(file, {
                    maxSizeMB: 1,
                    maxWidthOrHeight: 1920,
                    useWebWorker: true,
                    initialQuality: 0.7
                });

                zip.file(`${file.name}`, compressedBlob);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${file.name}</td>
                    <td>${file.type.split('/')[1].toUpperCase()}</td>
                    <td>${dimensions.width} × ${dimensions.height}</td>
                    <td>${formatFileSize(file.size)}</td>
                    <td>${formatFileSize(compressedBlob.size)}</td>
                    <td>${calculateReduction(file.size, compressedBlob.size)}%</td>
                `;
                tbody.appendChild(row);
            } catch (error) {
                updateImageProgress(file.name, `Error processing ${file.name}`, 100);
                console.error(`Error compressing ${file.name}:`, error);
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="6" style="color: var(--diff-removed)">
                        ${file.name} - Failed to compress
                    </td>
                `;
                tbody.appendChild(row);
            }
        }

        compressedFiles = await zip.generateAsync({type: 'blob'});
        downloadBtn.classList.add('active'); 
        updateImageProgress('Complete', 'All images processed successfully ✓', 100);
    } catch (error) {
        console.error('ZIP creation error:', error);
        updateImageProgress('Error', 'Failed to create ZIP file', 100);
        alert('Error creating ZIP file');
    } finally {
        processing = false;
        loading.style.display = 'none';
    }
}

    downloadBtn.addEventListener('click', () => {
        if (!compressedFiles) return;
        
        const url = URL.createObjectURL(compressedFiles);
        const a = document.createElement('a');
        a.href = url;
        a.download = `compressed_images_${Date.now()}.zip`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });

    function formatFileSize(bytes) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }

    function updateProgress(text) {
        progress.textContent = text;
    }


    <!-- File analyser-->
    function resetFileAnalyser() {
    // Clear the file input
    document.getElementById('zipInput').value = '';
    
    // Reset progress indicators
    document.getElementById('zipName').textContent = '';
    document.getElementById('zipProgress').textContent = '';
    document.getElementById('progressBar').style.width = '0';
    document.getElementById('loadingSpinner').style.display = 'none';
    
    // Clear the file table
    document.getElementById('fileTable').style.display = 'none';
    document.getElementById('fileAnalyserList').innerHTML = '';
    
    // Reset the structure Map
    structure.clear();
    
    // Deactivate reset button
    const resetButton = document.getElementById('resetAnalyser');
    resetButton.classList.remove('active');
}

// Modify ZIP file input event listener
document.getElementById('zipInput').addEventListener('change', async function(e) {
    // Activate reset button when file is selected
    const resetButton = document.getElementById('resetAnalyser');
    resetButton.classList.add('active');
    
    // ... rest of your existing code ...
});
// Drag and drop File Analyser code

// Get the upload area element
const zipDropZone = document.querySelector('#fileAnalyser .upload-controls');
const zipInput = document.getElementById('zipInput');

// Add dragover event
zipDropZone.addEventListener('dragover', (e) => {
    e.preventDefault();
    zipDropZone.classList.add('dragover');
});

// Add dragleave event
zipDropZone.addEventListener('dragleave', () => {
    zipDropZone.classList.remove('dragover');
});

// Add drop event
zipDropZone.addEventListener('drop', (e) => {
    e.preventDefault();
    zipDropZone.classList.remove('dragover');
    
    const files = e.dataTransfer.files;
    if (files.length > 0 && files[0].name.toLowerCase().endsWith('.zip')) {
        // Update the file input
        const dataTransfer = new DataTransfer();
        dataTransfer.items.add(files[0]);
        zipInput.files = dataTransfer.files;
        
        // Trigger the change event
        zipInput.dispatchEvent(new Event('change'));
    } else {
        alert('Please drop a ZIP file');
    }
});

     // Make structure global so it's available in all functions
     let structure = new Map();

// Global renderFolder function
// Modify the renderFolder function to ignore macOS system folders and handle duplicates properly
function renderFolder(folderPath, level) {
    const tbody = document.getElementById('fileAnalyserList');
    let files = structure.get(folderPath) || []; // Add default empty array

    // Skip macOS system folders
    if (folderPath.includes('__MACOSX') || folderPath.includes('.DS_Store')) {
        return;
    }

    // Render folder row (if not the root)
    if (folderPath !== '') {
        const folderName = folderPath.split('/').filter(p => p).pop();
        
        // Skip if folder name starts with '.' or is a system folder
        if (folderName.startsWith('.') || folderName === '__MACOSX') {
            return;
        }

        const tr = document.createElement('tr');
        tr.className = 'folder';
        tr.dataset.path = folderPath;
        tr.innerHTML = `
            <td style="padding-left: ${level * 20}px">
                <span class="toggle">▶️</span> 📁 ${folderName}
            </td>
            <td>Folder</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
        `;
        tbody.appendChild(tr);
    }

    // Only try to render files if the array exists
    if (Array.isArray(files)) {
        // Filter and render files in the current folder
        files.forEach(file => {
            // Skip macOS system files and hidden files
            if (file.name.startsWith('.') || file.name === '.DS_Store') {
                return;
            }

            const tr = document.createElement('tr');
            tr.dataset.parent = folderPath;
            tr.dataset.filename = file.name;
            tr.className = folderPath === '' ? '' : 'hidden';
            
            tr.innerHTML = `
                <td style="padding-left: ${(level + 1) * 20}px">📄 ${file.name}</td>
                <td>${file.format}</td>
                <td>${formatBytes(file.size)}</td>
                <td>${file.dimensions}</td>
                <td>${file.duration}</td>
                <td>${file.colorMode}</td>
            `;
            tbody.appendChild(tr);
        });
    }

    // Recursively render direct subfolders (excluding system folders)
    for (const [path, ] of structure.entries()) {
        if (
            path !== folderPath &&
            path.startsWith(folderPath) &&
            path.split('/').length === folderPath.split('/').length + 1 &&
            !path.includes('__MACOSX') &&
            !path.includes('.DS_Store')
        ) {
            renderFolder(path, level + 1);
        }
    }
}

// Event listener for ZIP file input
document.getElementById('zipInput').addEventListener('change', async function(e) {
    const file = e.target.files[0];
    if (!file) return;

    try {
        // Initialize ZIP progress
        updateZipProgress(file.name, 'Loading ZIP...', 10);
        
        // Verify JSZip is loaded
        if (typeof JSZip === 'undefined') {
            throw new Error('JSZip library not loaded');
        }

        const zip = await JSZip.loadAsync(file);
        const table = document.getElementById('fileTable');
        const tbody = document.getElementById('fileAnalyserList');
        
        if (!table || !tbody) {
            throw new Error('Required DOM elements not found');
        }

        tbody.innerHTML = '';
        table.style.display = 'table';

        // First pass: Build folder structure
        updateZipProgress(file.name, 'Building folder structure...', 30);
        for (const [relativePath, fileEntry] of Object.entries(zip.files)) {
            // Skip macOS system files and folders
            if (relativePath.includes('__MACOSX') || 
                relativePath.includes('.DS_Store') || 
                relativePath.startsWith('.')) {
                continue;
            }

            const pathParts = relativePath.split('/').filter(part => 
                part !== '' && 
                !part.startsWith('.') && 
                part !== '__MACOSX'
            );
            
            if (fileEntry.dir) {
                structure.set(relativePath, []);
                continue;
            }

            const parentPath = pathParts.length > 1
                ? pathParts.slice(0, -1).join('/') + '/'
                : '';

            if (!structure.has(parentPath)) {
                structure.set(parentPath, []);
            }

            const fileInfo = {
                path: relativePath,
                name: pathParts[pathParts.length - 1],
                format: relativePath.split('.').pop().toUpperCase() || '',
                size: fileEntry._data.uncompressedSize,
                dimensions: '-',
                duration: '-',
                colorMode: '-'
            };
            structure.get(parentPath).push(fileInfo);
        }

        // Render initial structure
        renderFolder('', 0);

        // Initialize arrays for promises
        const imagePromises = [];
        const videoPromises = [];

        // Second pass: Process files
        let processedFiles = 0;
        const totalFiles = Object.keys(zip.files).filter(key => !zip.files[key].dir).length;

        for (const [relativePath, fileEntry] of Object.entries(zip.files)) {
            if (!fileEntry.dir) {
                try {
                    const blob = await fileEntry.async('blob');
                    const url = URL.createObjectURL(blob);
                    const pathParts = relativePath.split('/');
                    const fileName = pathParts[pathParts.length - 1];
                    const parentPath = pathParts.length > 1 
                        ? pathParts.slice(0, -1).join('/') + '/'
                        : '';

                    processedFiles++;
                    const progress = Math.round((processedFiles / totalFiles) * 50) + 40;

                    if (fileName.match(/\.(jpe?g|png|gif|bmp)$/i)) {
                        updateZipProgress(file.name, `Processing images... (${processedFiles}/${totalFiles})`, progress);
                        imagePromises.push(processImage(url, parentPath, fileName));
                    } else if (fileName.match(/\.(mp4|webm|ogg|mov|avi)$/i)) {
                        updateZipProgress(file.name, `Processing videos... (${processedFiles}/${totalFiles})`, progress);
                        videoPromises.push(processVideo(url, parentPath, fileName));
                    }
                } catch (error) {
                    console.error(`Error processing ${relativePath}:`, error);
                }
            }
        }

        // Wait for all image processing to complete
        if (imagePromises.length > 0) {
            updateZipProgress(file.name, 'Processing images...', 90);
            await Promise.all(imagePromises);
        }

        // Wait for all video processing to complete
        if (videoPromises.length > 0) {
            updateZipProgress(file.name, 'Processing videos...', 95);
            await Promise.all(videoPromises);
        }

        updateZipProgress(file.name, 'Analysis complete ✓', 100);

    } catch (error) {
        console.error('Detailed error:', error);
        updateZipProgress(file.name, `Error: ${error.message}`, 100);
    }
});

// Add helper function for formatting duration
function formatDuration(seconds) {
    const hrs = Math.floor(seconds / 3600);
    const mins = Math.floor((seconds % 3600) / 60);
    const secs = Math.floor(seconds % 60);
    
    const parts = [];
    
    if (hrs > 0) {
        parts.push(String(hrs).padStart(2, '0'));
    }
    
    parts.push(String(mins).padStart(2, '0'));
    parts.push(String(secs).padStart(2, '0'));
    
    return parts.join(':');
}

// Folder click handler for toggling subfolder visibility
document.getElementById('fileAnalyserList').addEventListener('click', (e) => {
    const folderRow = e.target.closest('.folder');
    if (folderRow) {
        folderRow.classList.toggle('expanded');
        const folderPath = folderRow.dataset.path;
        const childRows = document.querySelectorAll(`tr[data-parent="${folderPath}"]`);
        childRows.forEach(row => row.classList.toggle('hidden'));
    }
});

// Helper functions
function processImage(url, parentPath, fileName) {
    return new Promise((resolve) => {
        const img = new Image();
        img.onload = () => {
            const colorMode = fileName.toLowerCase().endsWith('.png') ? 'RGBA' : 'RGB';
            const dimensions = `${img.naturalWidth}x${img.naturalHeight}`;
            
            // Find the row by both parent path and filename
            const row = findFileRow(parentPath, fileName);
            if (row) {
                row.querySelector('td:nth-child(4)').textContent = dimensions;
                row.querySelector('td:nth-child(6)').textContent = colorMode;
            }
            
            URL.revokeObjectURL(url);
            resolve();
        };
        img.onerror = () => {
            console.error(`Failed to load image: ${fileName}`);
            URL.revokeObjectURL(url);
            resolve();
        };
        img.src = url;
    });
}

function findFileRow(parentPath, fileName) {
    // Handle both root-level files and files in folders
    const selector = parentPath === '' 
        ? `tr[data-parent=""][data-filename="${fileName}"]`
        : `tr[data-parent="${parentPath}"][data-filename="${fileName}"]`;
    return document.querySelector(selector);
}

function updateFileInfo(parentPath, fileName, info) {
    const row = findFileRow(parentPath, fileName);
    if (row) {
        if (info.dimensions) {
            row.querySelector('td:nth-child(4)').textContent = info.dimensions;
        }
        if (info.duration) {
            row.querySelector('td:nth-child(5)').textContent = info.duration;
        }
        if (info.colorMode) {
            row.querySelector('td:nth-child(6)').textContent = info.colorMode;
        }
    } else {
        console.warn(`Row not found for file: ${fileName} in path: ${parentPath}`);
    }
}

function processVideo(url, parentPath, fileName) {
    return new Promise((resolve) => {
        const video = document.createElement('video');
        video.onloadedmetadata = () => {
            const duration = formatDuration(video.duration);
            updateFileInfo(parentPath, fileName, {
                duration: duration
            });
            URL.revokeObjectURL(url);
            resolve();
        };
        video.onerror = () => {
            URL.revokeObjectURL(url);
            resolve();
        };
        video.src = url;
    });
}

function formatBytes(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}

function updateZipProgress(filename, status = '', progress = 0) {
    const zipName = document.getElementById('zipName');
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('zipProgress');
    const loadingSpinner = document.getElementById('loadingSpinner');

    // Update filename
    zipName.textContent = filename;

    // Update progress bar and status
    progressBar.style.width = `${progress}%`;
    progressText.textContent = status;

    // Show/hide loading spinner
    if (status.includes('Processing') || status.includes('Loading')) {
        loadingSpinner.style.display = 'block';
    } else {
        loadingSpinner.style.display = 'none';
    }

    // Add status-specific styling
    if (status.includes('complete')) {
        progressBar.style.width = '100%';
        progressBar.style.backgroundColor = '#4CAF50';
    } else if (status.includes('Error')) {
        progressBar.style.backgroundColor = '#f44336';
    } else {
        progressBar.style.backgroundColor = 'var(--primary-color)';
    }
}



// EE
let logoClickCount = 0;
let lastClickTime = 0;

document.querySelector('.logo-container').addEventListener('click', function() {
    const currentTime = new Date().getTime();
    
    // Reset counter if more than 2 seconds between clicks
    if (currentTime - lastClickTime > 2000) {
        logoClickCount = 0;
    }
    
    logoClickCount++;
    lastClickTime = currentTime;

    // Show popup on 4th click
    if (logoClickCount === 4) {
        showEasterEggPopup();
        logoClickCount = 0;
    }
});

// Add popup styles
const popupStyles = document.createElement('style');
popupStyles.textContent = `
    .easter-egg-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: var(--tool-bg);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        z-index: 1000;
        animation: popIn 0.3s ease-out;
        border: 2px solid var(--primary-color);
    }

    .easter-egg-popup .footer-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        text-align: center;
        color: var(--text-color);
    }

    .easter-egg-popup .footer-links {
    display: flex;
    gap: 10px;
    margin-top: 10px;
    justify-content: center;
}

.easter-egg-popup .footer-link {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--primary-color);
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 6px;
    background: var(--bg-color);
    transition: all 0.3s ease;
    border: 1px solid var(--primary-color);
    min-width: 120px;
    justify-content: center;
}

.easter-egg-popup .footer-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    background: var(--primary-color);
    color: white;
}

.easter-egg-popup .footer-icon {
    width: 20px;
    height: 20px;
    fill: var(--primary-color);
    transition: fill 0.3s ease;
}

    @keyframes popIn {
        0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
        100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    .easter-egg-popup .close-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        color: var (--text-color);
        cursor: pointer;
        padding: 5px;
        font-size: 20px;
    }
`;
document.head.appendChild(popupStyles);

function showEasterEggPopup() {
    const popup = document.createElement('div');
    popup.className = 'easter-egg-popup';
    popup.innerHTML = `
        <button class="close-button" onclick="this.parentElement.remove()">×</button>
        <div class="footer-content">
            <div style="text-align: center; margin-bottom: 10px;">
                <svg class="logo" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" style="width: 80px; height: 80px; margin-bottom: 8px;">
                    <path fill="var(--primary-color)" d="M269.5,-0.5 C269.833,-0.5 270.167,-0.5 270.5,-0.5C 270.5,39.8333 270.5,80.1667 270.5,120.5C 299.169,120.333 327.835,120.5 356.5,121C 318.127,190.247 279.627,259.414 241,328.5C 240.5,289.168 240.333,249.835 240.5,210.5C 211.831,210.667 183.165,210.5 154.5,210C 193.227,140.046 231.56,69.8798 269.5,-0.5 Z M239.5,118.5 C240.494,128.987 240.828,139.654 240.5,150.5C 261.836,150.333 283.169,150.5 304.5,151C 292.953,170.59 281.787,190.424 271,210.5C 270.5,200.506 270.334,190.506 270.5,180.5C 249.164,180.667 227.831,180.5 206.5,180C 218.161,159.844 229.161,139.344 239.5,118.5 Z"/>
                    <path fill="currentColor" d="M-0.5,120.5 C29.8333,120.5 60.1667,120.5 90.5,120.5C90.3333,177.501 90.5,234.501 91,291.5C91.6667,292.167 92.3333,292.833 93,293.5C107.014,279.319 121.181,265.319 135.5,251.5C175.86,291.194 215.86,331.194 255.5,371.5C295.14,331.194 335.14,291.194 375.5,251.5C389.819,265.319 403.986,279.319 418,293.5C418.667,292.833 419.333,292.167 420,291.5C420.5,234.501 420.667,177.501 420.5,120.5C450.833,120.5 481.167,120.5 511.5,120.5C511.5,193.833 511.5,267.167 511.5,340.5C509.183,350.933 505.349,360.933 500,370.5C471.307,417.224 443.141,464.224 415.5,511.5C308.833,511.5 202.167,511.5 95.5,511.5C67.8592,464.224 39.6925,417.224 11,370.5C5.65063,360.933 1.8173,350.933 -0.5,340.5C-0.5,267.167 -0.5,193.833 -0.5,120.5 Z"/>
                </svg>
                <h2 style="margin: 0 0 15px; color: var(--primary-color); font-size: 1.8em;">Catalyst</h2>
            </div>
            <div style="margin-top: -5px;">
                <h6 style="margin:0; color: var(--text-color);">Ideated by</h6>
                <h3 style="margin:0; color: var(--text-color);">Banuchandar K</h3>
            </div>
            <div class="footer-links">
                <a href="mailto:banuchandar.k@outlook.com" class="footer-link">
                    <svg class="footer-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M20,4H4C2.895,4,2,4.895,2,6v12c0,1.105,0.895,2,2,2h16c1.105,0,2-0.895,2-2V6C22,4.895,21.105,4,20,4z M20,8.236l-8,4.882 L4,8.236V6h16V8.236z"/>
                    </svg>
                    Email
                </a>
                <a href="https://github.com/BanuchandarK" target="_blank" class="footer-link">
                    <svg class="footer-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,2C6.477,2,2,6.477,2,12c0,4.419,2.865,8.166,6.839,9.489c0.5,0.092,0.682-0.217,0.682-0.482 c0-0.237-0.008-0.866-0.013-1.7c-2.782,0.605-3.369-1.343-3.369-1.343c-0.454-1.158-1.11-1.466-1.11-1.466 c-0.908-0.62,0.069-0.608,0.069-0.608c1.003,0.07,1.531,1.03,1.531,1.03c0.892,1.529,2.341,1.088,2.91,0.832 c0.091-0.647,0.349-1.086,0.635-1.337c-2.22-0.251-4.555-1.111-4.555-4.943c0-1.091,0.39-1.984,1.029-2.683 C6.546,8.54,6.202,7.524,6.746,6.148c0,0,0.84-0.269,2.75,1.025C10.295,6.95,11.15,6.84,12,6.836 c0.85,0.004,1.705,0.114,2.504,0.336c1.909-1.294,2.748-1.025,2.748-1.025c0.546,1.376,0.202,2.394,0.1,2.646 c0.64,0.699,1.026,1.592,1.026,2.683c0,3.841-2.337,4.687-4.565,4.935c0.359,0.307,0.679,0.917,0.679,1.852 c0,1.335-0.012,2.415-0.012,2.741c0,0.267,0.18,0.577,0.688,0.479C19.138,20.161,22,16.416,22,12C22,6.477,17.523,2,12,2z"/>
                    </svg>
                    GitHub
                </a>
            </div>
            <p style="margin:10px 0 0; font-size:0.9em; color: var(--text-color);">You found the easter egg! 🎉</p>
        </div>
    `;
    document.body.appendChild(popup);
}

//2EE
let titleClickCount = 0;
let titleLastClickTime = 0;

document.querySelector('.header h1').addEventListener('click', function() {
    const currentTime = new Date().getTime();
    
    if (currentTime - titleLastClickTime > 2000) {
        titleClickCount = 0;
    }
    
    titleClickCount++;
    titleLastClickTime = currentTime;

    if (titleClickCount === 4) {
        showCatalystInfoPopup();
        titleClickCount = 0;
    }
});

function showCatalystInfoPopup() {
    const popup = document.createElement('div');
    popup.className = 'easter-egg-popup info-popup';
    
    popup.innerHTML = `
        <button class="close-button" onclick="this.parentElement.remove()">×</button>
        <div class="footer-content">
            <div style="text-align: center;">
                <svg class="logo" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" style="width: 80px; height: 80px; margin-bottom: 15px;">
                    <path fill="#056dce" d="M269.5,-0.5 C269.833,-0.5 270.167,-0.5 270.5,-0.5C 270.5,39.8333 270.5,80.1667 270.5,120.5C 299.169,120.333 327.835,120.5 356.5,121C 318.127,190.247 279.627,259.414 241,328.5C 240.5,289.168 240.333,249.835 240.5,210.5C 211.831,210.667 183.165,210.5 154.5,210C 193.227,140.046 231.56,69.8798 269.5,-0.5 Z M239.5,118.5 C240.494,128.987 240.828,139.654 240.5,150.5C 261.836,150.333 283.169,150.5 304.5,151C 292.953,170.59 281.787,190.424 271,210.5C 270.5,200.506 270.334,190.506 270.5,180.5C 249.164,180.667 227.831,180.5 206.5,180C 218.161,159.844 229.161,139.344 239.5,118.5 Z"/>
                    <path fill="currentColor" d="M-0.5,120.5 C29.8333,120.5 60.1667,120.5 90.5,120.5C90.3333,177.501 90.5,234.501 91,291.5C91.6667,292.167 92.3333,292.833 93,293.5C107.014,279.319 121.181,265.319 135.5,251.5C175.86,291.194 215.86,331.194 255.5,371.5C295.14,331.194 335.14,291.194 375.5,251.5C389.819,265.319 403.986,279.319 418,293.5C418.667,292.833 419.333,292.167 420,291.5C420.5,234.501 420.667,177.501 420.5,120.5C450.833,120.5 481.167,120.5 511.5,120.5C511.5,193.833 511.5,267.167 511.5,340.5C509.183,350.933 505.349,360.933 500,370.5C471.307,417.224 443.141,464.224 415.5,511.5C308.833,511.5 202.167,511.5 95.5,511.5C67.8592,464.224 39.6925,417.224 11,370.5C5.65063,360.933 1.8173,350.933 -0.5,340.5C-0.5,267.167 -0.5,193.833 -0.5,120.5 Z"/>
                </svg>
                <h1 style="margin: 0 0 15px; var(--primary-color); font-size: 1.8em;">Catalyst</h1>
                <p style="margin: 0; color: var(--primary-color); line-height: 1.6; font-size: 0.95em;">
                    Streamlines workflows, enabling efficient utilization of resources</br>while enhancing creative capabilities and output fidelity.
                </p>
            </div>
            <p style="margin:15px 0 0; font-size:0.9em; var(--primary-color); font-style: italic;">You found another easter egg! 🎉</p>
        </div>
    `;
    document.body.appendChild(popup);
}

//3EE
// Add after the existing easter egg code

let themeClickCount = 0;
let themeLastClickTime = 0;
let isColorPickerOpen = false;
document.querySelector('.theme-toggle').addEventListener('click', function(e) {
    const currentTime = new Date().getTime();
    
    // If color picker is open, close it and reset count
    if (document.querySelector('.color-picker-popup')) {
        closeAllColorPickers();
        themeClickCount = 0;
        return;
    }
    
    if (currentTime - themeLastClickTime > 2000) {
        themeClickCount = 0;
    }
    themeClickCount++;
    themeLastClickTime = currentTime;

    if (themeClickCount === 5) {
        e.stopPropagation(); // Prevent normal theme toggle
        showColorPickerPopup();
        themeClickCount = 0;
    }
});

function showColorPickerPopup() {
    closeAllColorPickers();
    const popup = document.createElement('div');
    popup.className = 'easter-egg-popup color-picker-popup';
    
    // Get current primary color
    const currentColor = getComputedStyle(document.documentElement)
        .getPropertyValue('--primary-color').trim();
    
    popup.innerHTML = `
        <button class="close-button" onclick="this.parentElement.remove()">×</button>
        <div class="footer-content">
            <div style="text-align: center;">
                <h2 style="margin: 0 0 15px; color: var(--text-color);">Theme Color Picker</h2>
                <div class="color-picker-container">
                    <input type="color" id="colorPicker" value="${currentColor}">
                    <button class="random-color-btn" onclick="generateRandomColor()">
                        <svg viewBox="0 0 24 24" style="width: 20px; height: 20px;">
                            <path fill="currentColor" d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10,10,0,0,1,12,22Z"/>
                            <path fill="currentColor" d="M17,12a1,1,0,0,0-1,1v1H14a1,1,0,0,0,0,2h2v1a1,1,0,0,0,2,0V14A2,2,0,0,0,17,12Z"/>
                            <path fill="currentColor" d="M8,12H6V11A1,1,0,0,0,4,11v3a2,2,0,0,0,2,2H8a1,1,0,0,0,0-2H6V12Z"/>
                        </svg>
                        Random Color
                    </button>
                </div>
                <button class="apply-color-btn" onclick="applySelectedColor()">Apply Color</button>
            </div>
            <p style="margin:15px 0 0; font-size:0.9em; color: var(--text-color); font-style: italic;">You found the color picker easter egg! 🎨</p>
        </div>
    `;
    document.body.appendChild(popup);

    // Add event listener for color picker
    document.getElementById('colorPicker').addEventListener('input', function(e) {
        updateThemeColor(e.target.value);
    });

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeAllColorPickers();
        }
    });
}
function closeColorPicker() {
    const existingPopup = document.getElementById('colorPickerPopup');
    if (existingPopup) {
        existingPopup.remove();
        isColorPickerOpen = false;
    }
}
function updateThemeColor(color) {
    // Update both light and dark theme variables
    const root = document.documentElement;
    const style = document.createElement('style');
    
    style.textContent = `
        :root {
            --primary-color: ${color};
            --primary-hover: ${adjustColor(color, -20)};
            --border-color: ${color};
        }
        
        [data-theme="dark"] {
            --primary-color: ${color};
            --primary-hover: ${adjustColor(color, -20)};
            --border-color: ${color};
        }
    `;
    
    // Remove any previous dynamic styles
    const existingStyle = document.querySelector('#dynamic-theme');
    if (existingStyle) {
        existingStyle.remove();
    }
    
    style.id = 'dynamic-theme';
    document.head.appendChild(style);
}
function applySelectedColor() {
    const color = document.getElementById('colorPicker').value;
    localStorage.setItem('theme-color', color);
    updateThemeColor(color);
    closeAllColorPickers();
}

function generateRandomColor() {
    const randomColor = '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
    document.getElementById('colorPicker').value = randomColor;
    updateThemeColor(randomColor);
}
function closeAllColorPickers() {
    const colorPickers = document.querySelectorAll('.color-picker-popup');
    colorPickers.forEach(popup => popup.remove());
    isColorPickerOpen = false;
}
// Helper function to adjust color brightness
function adjustColor(color, amount) {
    return '#' + color.replace(/^#/, '').replace(/../g, color => 
        ('0' + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).slice(-2));
}

// Add this to your existing theme toggle function
function toggleTheme() {
    const body = document.body;
    const newTheme = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    body.setAttribute('data-theme', newTheme);
    
    // Restore custom color if exists
    const savedColor = localStorage.getItem('theme-color');
    if (savedColor) {
        updateThemeColor(savedColor);
    }
}

// Add this to your document ready or initialization code
document.addEventListener('DOMContentLoaded', function() {
    const savedColor = localStorage.getItem('theme-color');
    if (savedColor) {
        updateThemeColor(savedColor);
    }

    
});



    </script> 

</body>
</html>
